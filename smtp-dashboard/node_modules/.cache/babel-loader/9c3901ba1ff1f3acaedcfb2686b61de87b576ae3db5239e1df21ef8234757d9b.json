{"ast":null,"code":"var _jsxFileName = \"/home/puspeshdeolal/PROJECTS/UPWORK_NEW/postfix-docker/smtp-dashboard/src/pages/MailDesigner.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from \"react\";\nimport EmailEditor from \"react-email-editor\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MailDesigner() {\n  _s();\n  const emailEditorRef = useRef(null);\n  const [templates, setTemplates] = useState([]);\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n\n  // Load templates from Flask backend\n  useEffect(() => {\n    axios.get(\"http://43.230.201.125:60025/mails\").then(res => setTemplates(res.data)).catch(console.error);\n  }, []);\n  const exportHtml = () => {\n    emailEditorRef.current.editor.exportHtml(async data => {\n      const {\n        design,\n        html\n      } = data;\n      await axios.post(\"http://43.230.201.125:60025/mails\", {\n        name: prompt(\"Enter template name:\"),\n        html,\n        design\n      });\n      alert(\"Template saved successfully!\");\n    });\n  };\n  const loadTemplate = template => {\n    setSelectedTemplate(template.id);\n    emailEditorRef.current.editor.loadDesign(template.design);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-semibold mb-4\",\n      children: \"Email Template Designer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportHtml,\n        className: \"px-4 py-2 bg-blue-600 text-white rounded-md mr-2\",\n        children: \"\\uD83D\\uDCBE Save Template\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => {\n          const template = templates.find(t => t.id === e.target.value);\n          if (template) loadTemplate(template);\n        },\n        value: selectedTemplate || \"\",\n        className: \"px-2 py-1 border rounded-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Load Saved Template\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), templates.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: t.id,\n          children: t.name\n        }, t.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border rounded-md\",\n      style: {\n        height: \"80vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(EmailEditor, {\n        ref: emailEditorRef,\n        onReady: () => console.log(\"Editor loaded\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(MailDesigner, \"EEQh8oSCdu4pG+XMSADzznAK1WE=\");\n_c = MailDesigner;\nvar _c;\n$RefreshReg$(_c, \"MailDesigner\");","map":{"version":3,"names":["React","useRef","useState","useEffect","EmailEditor","axios","jsxDEV","_jsxDEV","MailDesigner","_s","emailEditorRef","templates","setTemplates","selectedTemplate","setSelectedTemplate","get","then","res","data","catch","console","error","exportHtml","current","editor","design","html","post","name","prompt","alert","loadTemplate","template","id","loadDesign","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onChange","e","find","t","target","value","map","style","height","ref","onReady","log","_c","$RefreshReg$"],"sources":["/home/puspeshdeolal/PROJECTS/UPWORK_NEW/postfix-docker/smtp-dashboard/src/pages/MailDesigner.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport EmailEditor from \"react-email-editor\";\nimport axios from \"axios\";\n\nexport default function MailDesigner() {\n  const emailEditorRef = useRef(null);\n  const [templates, setTemplates] = useState([]);\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\n\n  // Load templates from Flask backend\n  useEffect(() => {\n    axios.get(\"http://43.230.201.125:60025/mails\")\n      .then(res => setTemplates(res.data))\n      .catch(console.error);\n  }, []);\n\n  const exportHtml = () => {\n    emailEditorRef.current.editor.exportHtml(async (data) => {\n      const { design, html } = data;\n\n      await axios.post(\"http://43.230.201.125:60025/mails\", {\n        name: prompt(\"Enter template name:\"),\n        html,\n        design\n      });\n\n      alert(\"Template saved successfully!\");\n    });\n  };\n\n  const loadTemplate = (template) => {\n    setSelectedTemplate(template.id);\n    emailEditorRef.current.editor.loadDesign(template.design);\n  };\n\n  return (\n    <div className=\"p-6\">\n      <h1 className=\"text-2xl font-semibold mb-4\">Email Template Designer</h1>\n\n      <div className=\"mb-4\">\n        <button\n          onClick={exportHtml}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-md mr-2\"\n        >\n          ðŸ’¾ Save Template\n        </button>\n\n        <select\n          onChange={(e) => {\n            const template = templates.find(t => t.id === e.target.value);\n            if (template) loadTemplate(template);\n          }}\n          value={selectedTemplate || \"\"}\n          className=\"px-2 py-1 border rounded-md\"\n        >\n          <option value=\"\">Load Saved Template</option>\n          {templates.map(t => (\n            <option key={t.id} value={t.id}>{t.name}</option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"border rounded-md\" style={{ height: \"80vh\" }}>\n        <EmailEditor\n          ref={emailEditorRef}\n          onReady={() => console.log(\"Editor loaded\")}\n        />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}