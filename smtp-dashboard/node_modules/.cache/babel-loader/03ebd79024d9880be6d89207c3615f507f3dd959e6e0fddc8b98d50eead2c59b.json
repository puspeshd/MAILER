{"ast":null,"code":"var _jsxFileName = \"/home/puspeshdeolal/PROJECTS/UPWORK_NEW/postfix-docker/smtp-dashboard/src/components/AIModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport \"./AIModal.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AIModal({\n  onClose,\n  onRun,\n  initialPrompt = \"\"\n}) {\n  _s();\n  const [selectedAction, setSelectedAction] = useState(\"\");\n  const [prompt, setPrompt] = useState(initialPrompt);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const resultRef = useRef(null);\n  const presets = {\n    \"Fix grammar\": \"Fix grammar and spelling issues in the following text:\",\n    \"Make formal\": \"Rewrite the following email in a formal tone:\",\n    \"Summarize\": \"Summarize the following email briefly:\",\n    \"Make concise\": \"Rewrite this to be short, clear, and to the point:\"\n  };\n  const handleActionSelect = e => {\n    const value = e.target.value;\n    setSelectedAction(value);\n    setPrompt(presets[value] || \"\");\n  };\n  const runAI = async () => {\n    if (!prompt.trim()) return alert(\"Please enter a prompt first!\");\n    setLoading(true);\n    setResult(\"\");\n    setError(\"\");\n    try {\n      const res = await fetch(\"http://127.0.0.1:5000/generate\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          prompt\n        })\n      });\n      if (!res.ok) throw new Error(\"Network error\");\n      const data = await res.json();\n      if (data.result) setResult(data.result);else setResult(\"‚úÖ Prompt sent! Check backend for final result.\");\n    } catch (err) {\n      setError(\"‚ùå Failed to get AI response. Try again.\");\n    }\n    setLoading(false);\n  };\n\n  // üß≠ Auto-scroll to the result when it updates\n  useEffect(() => {\n    if (result && resultRef.current) {\n      resultRef.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"start\"\n      });\n    }\n  }, [result]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ai-modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-modal-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83E\\uDD16 AI Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          children: \"\\u2716\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Choose Action:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedAction,\n          onChange: handleActionSelect,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Select preset --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), Object.keys(presets).map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: p,\n            children: p\n          }, p, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Edit Prompt:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: prompt,\n          onChange: e => setPrompt(e.target.value),\n          placeholder: \"Write or modify your AI prompt...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ai-loader\",\n          children: \"\\u2699\\uFE0F Running AI... (max 1.5 min)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ai-run-btn\",\n          onClick: runAI,\n          children: \"Run AI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: resultRef,\n          className: \"ai-result-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"AI Result:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ai-result-text\",\n            dangerouslySetInnerHTML: {\n              __html: result.replace(/\\n/g, \"<br/>\")\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ai-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                navigator.clipboard.writeText(result);\n                alert(\"Copied!\");\n              },\n              children: \"\\uD83D\\uDCCB Copy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setResult(\"\"),\n              children: \"\\uD83D\\uDD01 Try Again\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ai-error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(AIModal, \"DLN1jRiC/9tTHDMMOo+T8AO32Uk=\");\n_c = AIModal;\nvar _c;\n$RefreshReg$(_c, \"AIModal\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","AIModal","onClose","onRun","initialPrompt","_s","selectedAction","setSelectedAction","prompt","setPrompt","loading","setLoading","result","setResult","error","setError","resultRef","presets","handleActionSelect","e","value","target","runAI","trim","alert","res","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","err","current","scrollIntoView","behavior","block","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onChange","Object","keys","map","p","placeholder","ref","dangerouslySetInnerHTML","__html","replace","navigator","clipboard","writeText","_c","$RefreshReg$"],"sources":["/home/puspeshdeolal/PROJECTS/UPWORK_NEW/postfix-docker/smtp-dashboard/src/components/AIModal.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport \"./AIModal.css\";\n\nexport default function AIModal({ onClose, onRun, initialPrompt = \"\" }) {\n  const [selectedAction, setSelectedAction] = useState(\"\");\n  const [prompt, setPrompt] = useState(initialPrompt);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const resultRef = useRef(null);\n\n  const presets = {\n    \"Fix grammar\": \"Fix grammar and spelling issues in the following text:\",\n    \"Make formal\": \"Rewrite the following email in a formal tone:\",\n    \"Summarize\": \"Summarize the following email briefly:\",\n    \"Make concise\": \"Rewrite this to be short, clear, and to the point:\",\n  };\n\n  const handleActionSelect = (e) => {\n    const value = e.target.value;\n    setSelectedAction(value);\n    setPrompt(presets[value] || \"\");\n  };\n\n  const runAI = async () => {\n    if (!prompt.trim()) return alert(\"Please enter a prompt first!\");\n    setLoading(true);\n    setResult(\"\");\n    setError(\"\");\n\n    try {\n      const res = await fetch(\"http://127.0.0.1:5000/generate\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ prompt }),\n      });\n\n      if (!res.ok) throw new Error(\"Network error\");\n      const data = await res.json();\n\n      if (data.result) setResult(data.result);\n      else setResult(\"‚úÖ Prompt sent! Check backend for final result.\");\n\n    } catch (err) {\n      setError(\"‚ùå Failed to get AI response. Try again.\");\n    }\n\n    setLoading(false);\n  };\n\n  // üß≠ Auto-scroll to the result when it updates\n  useEffect(() => {\n    if (result && resultRef.current) {\n      resultRef.current.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n    }\n  }, [result]);\n\n  return (\n    <div className=\"ai-modal-overlay\">\n      <div className=\"ai-modal-box\">\n        <div className=\"ai-modal-header\">\n          <h2>ü§ñ AI Assistant</h2>\n          <button onClick={onClose}>‚úñ</button>\n        </div>\n\n        <div className=\"ai-modal-body\">\n          <label>Choose Action:</label>\n          <select value={selectedAction} onChange={handleActionSelect}>\n            <option value=\"\">-- Select preset --</option>\n            {Object.keys(presets).map((p) => (\n              <option key={p} value={p}>{p}</option>\n            ))}\n          </select>\n\n          <label>Edit Prompt:</label>\n          <textarea\n            value={prompt}\n            onChange={(e) => setPrompt(e.target.value)}\n            placeholder=\"Write or modify your AI prompt...\"\n          />\n\n          {loading ? (\n            <div className=\"ai-loader\">‚öôÔ∏è Running AI... (max 1.5 min)</div>\n          ) : (\n            <button className=\"ai-run-btn\" onClick={runAI}>\n              Run AI\n            </button>\n          )}\n\n          {result && (\n            <div ref={resultRef} className=\"ai-result-block\">\n              <label>AI Result:</label>\n              <div className=\"ai-result-text\" dangerouslySetInnerHTML={{ __html: result.replace(/\\n/g, \"<br/>\") }} />\n              <div className=\"ai-actions\">\n                <button\n                  onClick={() => {\n                    navigator.clipboard.writeText(result);\n                    alert(\"Copied!\");\n                  }}\n                >\n                  üìã Copy\n                </button>\n                <button onClick={() => setResult(\"\")}>üîÅ Try Again</button>\n              </div>\n            </div>\n          )}\n\n          {error && <p className=\"ai-error\">{error}</p>}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAO,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvB,eAAe,SAASC,OAAOA,CAAC;EAAEC,OAAO;EAAEC,KAAK;EAAEC,aAAa,GAAG;AAAG,CAAC,EAAE;EAAAC,EAAA;EACtE,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACY,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAACQ,aAAa,CAAC;EACnD,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACgB,MAAM,EAAEC,SAAS,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACkB,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMoB,SAAS,GAAGnB,MAAM,CAAC,IAAI,CAAC;EAE9B,MAAMoB,OAAO,GAAG;IACd,aAAa,EAAE,wDAAwD;IACvE,aAAa,EAAE,+CAA+C;IAC9D,WAAW,EAAE,wCAAwC;IACrD,cAAc,EAAE;EAClB,CAAC;EAED,MAAMC,kBAAkB,GAAIC,CAAC,IAAK;IAChC,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK;IAC5Bb,iBAAiB,CAACa,KAAK,CAAC;IACxBX,SAAS,CAACQ,OAAO,CAACG,KAAK,CAAC,IAAI,EAAE,CAAC;EACjC,CAAC;EAED,MAAME,KAAK,GAAG,MAAAA,CAAA,KAAY;IACxB,IAAI,CAACd,MAAM,CAACe,IAAI,CAAC,CAAC,EAAE,OAAOC,KAAK,CAAC,8BAA8B,CAAC;IAChEb,UAAU,CAAC,IAAI,CAAC;IAChBE,SAAS,CAAC,EAAE,CAAC;IACbE,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACF,MAAMU,GAAG,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAE;QACxDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEvB;QAAO,CAAC;MACjC,CAAC,CAAC;MAEF,IAAI,CAACiB,GAAG,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;MAC7C,MAAMC,IAAI,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAE7B,IAAID,IAAI,CAACtB,MAAM,EAAEC,SAAS,CAACqB,IAAI,CAACtB,MAAM,CAAC,CAAC,KACnCC,SAAS,CAAC,gDAAgD,CAAC;IAElE,CAAC,CAAC,OAAOuB,GAAG,EAAE;MACZrB,QAAQ,CAAC,yCAAyC,CAAC;IACrD;IAEAJ,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;;EAED;EACAb,SAAS,CAAC,MAAM;IACd,IAAIc,MAAM,IAAII,SAAS,CAACqB,OAAO,EAAE;MAC/BrB,SAAS,CAACqB,OAAO,CAACC,cAAc,CAAC;QAAEC,QAAQ,EAAE,QAAQ;QAAEC,KAAK,EAAE;MAAQ,CAAC,CAAC;IAC1E;EACF,CAAC,EAAE,CAAC5B,MAAM,CAAC,CAAC;EAEZ,oBACEZ,OAAA;IAAKyC,SAAS,EAAC,kBAAkB;IAAAC,QAAA,eAC/B1C,OAAA;MAAKyC,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3B1C,OAAA;QAAKyC,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9B1C,OAAA;UAAA0C,QAAA,EAAI;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxB9C,OAAA;UAAQ+C,OAAO,EAAE7C,OAAQ;UAAAwC,QAAA,EAAC;QAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjC,CAAC,eAEN9C,OAAA;QAAKyC,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5B1C,OAAA;UAAA0C,QAAA,EAAO;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC7B9C,OAAA;UAAQoB,KAAK,EAAEd,cAAe;UAAC0C,QAAQ,EAAE9B,kBAAmB;UAAAwB,QAAA,gBAC1D1C,OAAA;YAAQoB,KAAK,EAAC,EAAE;YAAAsB,QAAA,EAAC;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAC5CG,MAAM,CAACC,IAAI,CAACjC,OAAO,CAAC,CAACkC,GAAG,CAAEC,CAAC,iBAC1BpD,OAAA;YAAgBoB,KAAK,EAAEgC,CAAE;YAAAV,QAAA,EAAEU;UAAC,GAAfA,CAAC;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAuB,CACtC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC,eAET9C,OAAA;UAAA0C,QAAA,EAAO;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC3B9C,OAAA;UACEoB,KAAK,EAAEZ,MAAO;UACdwC,QAAQ,EAAG7B,CAAC,IAAKV,SAAS,CAACU,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE;UAC3CiC,WAAW,EAAC;QAAmC;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChD,CAAC,EAEDpC,OAAO,gBACNV,OAAA;UAAKyC,SAAS,EAAC,WAAW;UAAAC,QAAA,EAAC;QAA8B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,gBAE/D9C,OAAA;UAAQyC,SAAS,EAAC,YAAY;UAACM,OAAO,EAAEzB,KAAM;UAAAoB,QAAA,EAAC;QAE/C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT,EAEAlC,MAAM,iBACLZ,OAAA;UAAKsD,GAAG,EAAEtC,SAAU;UAACyB,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9C1C,OAAA;YAAA0C,QAAA,EAAO;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACzB9C,OAAA;YAAKyC,SAAS,EAAC,gBAAgB;YAACc,uBAAuB,EAAE;cAAEC,MAAM,EAAE5C,MAAM,CAAC6C,OAAO,CAAC,KAAK,EAAE,OAAO;YAAE;UAAE;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACvG9C,OAAA;YAAKyC,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB1C,OAAA;cACE+C,OAAO,EAAEA,CAAA,KAAM;gBACbW,SAAS,CAACC,SAAS,CAACC,SAAS,CAAChD,MAAM,CAAC;gBACrCY,KAAK,CAAC,SAAS,CAAC;cAClB,CAAE;cAAAkB,QAAA,EACH;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT9C,OAAA;cAAQ+C,OAAO,EAAEA,CAAA,KAAMlC,SAAS,CAAC,EAAE,CAAE;cAAA6B,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,EAEAhC,KAAK,iBAAId,OAAA;UAAGyC,SAAS,EAAC,UAAU;UAAAC,QAAA,EAAE5B;QAAK;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACzC,EAAA,CA9GuBJ,OAAO;AAAA4D,EAAA,GAAP5D,OAAO;AAAA,IAAA4D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}