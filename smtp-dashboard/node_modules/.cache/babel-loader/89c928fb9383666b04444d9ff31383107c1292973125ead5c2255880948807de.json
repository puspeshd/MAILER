{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\nvar React = require('react');\nvar React__default = _interopDefault(React);\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nvar name = \"react-email-editor\";\nvar version = \"1.7.11\";\nvar description = \"Unlayer's Email Editor Component for React.js\";\nvar main = \"dist/index.js\";\nvar typings = \"dist/index.d.ts\";\nvar files = [\"dist\"];\nvar engines = {\n  node: \">=10\"\n};\nvar scripts = {\n  start: \"tsdx watch\",\n  build: \"tsdx build\",\n  test: \"tsdx test\",\n  \"test:watch\": \"tsdx test --watch\",\n  \"test:coverage\": \"tsdx test --coverage\",\n  lint: \"tsdx lint\",\n  prepare: \"tsdx build\",\n  release: \"npm run build && npm publish\",\n  \"netlify-build\": \"cd demo && npm install && npm run build\"\n};\nvar peerDependencies = {\n  react: \">=15\"\n};\nvar husky = {\n  hooks: {\n    \"pre-commit\": \"tsdx lint\"\n  }\n};\nvar dependencies = {\n  \"unlayer-types\": \"latest\"\n};\nvar devDependencies = {\n  \"@rollup/plugin-replace\": \"^5.0.2\",\n  \"@testing-library/react\": \"^13.4.0\",\n  \"@types/react\": \"^18.0.27\",\n  \"@types/react-dom\": \"^18.0.10\",\n  husky: \"^8.0.3\",\n  react: \"^18.2.0\",\n  \"react-dom\": \"^18.2.0\",\n  \"rollup-plugin-copy\": \"^3.4.0\",\n  tsdx: \"^0.14.1\",\n  tslib: \"^2.4.1\",\n  typescript: \"^4.9.4\"\n};\nvar author = \"\";\nvar homepage = \"https://github.com/unlayer/react-email-editor#readme\";\nvar license = \"MIT\";\nvar repository = \"https://github.com/unlayer/react-email-editor.git\";\nvar keywords = [\"react-component\"];\nvar pkg = {\n  name: name,\n  version: version,\n  description: description,\n  main: main,\n  typings: typings,\n  files: files,\n  engines: engines,\n  scripts: scripts,\n  peerDependencies: peerDependencies,\n  husky: husky,\n  dependencies: dependencies,\n  devDependencies: devDependencies,\n  author: author,\n  homepage: homepage,\n  license: license,\n  repository: repository,\n  keywords: keywords\n};\nvar defaultScriptUrl = 'https://editor.unlayer.com/embed.js?2';\nvar callbacks = [];\nvar loaded = false;\nvar isScriptInjected = function isScriptInjected(scriptUrl) {\n  var scripts = document.querySelectorAll('script');\n  var injected = false;\n  scripts.forEach(function (script) {\n    if (script.src.includes(scriptUrl)) {\n      injected = true;\n    }\n  });\n  return injected;\n};\nvar addCallback = function addCallback(callback) {\n  callbacks.push(callback);\n};\nvar runCallbacks = function runCallbacks() {\n  if (loaded) {\n    var callback;\n    while (callback = callbacks.shift()) {\n      callback();\n    }\n  }\n};\nvar loadScript = function loadScript(callback, scriptUrl) {\n  if (scriptUrl === void 0) {\n    scriptUrl = defaultScriptUrl;\n  }\n  addCallback(callback);\n  if (!isScriptInjected(scriptUrl)) {\n    var embedScript = document.createElement('script');\n    embedScript.setAttribute('src', scriptUrl);\n    embedScript.onload = function () {\n      loaded = true;\n      runCallbacks();\n    };\n    document.head.appendChild(embedScript);\n  } else {\n    runCallbacks();\n  }\n};\nvar win = typeof window === 'undefined' ? {\n  __unlayer_lastEditorId: 0\n} : window;\nwin.__unlayer_lastEditorId = win.__unlayer_lastEditorId || 0;\nvar EmailEditor = /*#__PURE__*/React__default.forwardRef(function (props, ref) {\n  var _props$appearance, _props$options, _props$options2, _props$locale, _props$options3, _props$projectId, _props$options4, _props$tools, _props$options5;\n  var onLoad = props.onLoad,\n    onReady = props.onReady,\n    scriptUrl = props.scriptUrl,\n    _props$minHeight = props.minHeight,\n    minHeight = _props$minHeight === void 0 ? 500 : _props$minHeight,\n    _props$style = props.style,\n    style = _props$style === void 0 ? {} : _props$style;\n  var _useState = React.useState(null),\n    editor = _useState[0],\n    setEditor = _useState[1];\n  var _useState2 = React.useState(false),\n    hasLoadedEmbedScript = _useState2[0],\n    setHasLoadedEmbedScript = _useState2[1];\n  var editorId = React.useMemo(function () {\n    return props.editorId || \"editor-\" + ++win.__unlayer_lastEditorId;\n  }, [props.editorId]);\n  var options = _extends({}, props.options || {}, {\n    appearance: (_props$appearance = props.appearance) != null ? _props$appearance : (_props$options = props.options) == null ? void 0 : _props$options.appearance,\n    displayMode: (props == null ? void 0 : props.displayMode) || ((_props$options2 = props.options) == null ? void 0 : _props$options2.displayMode) || 'email',\n    locale: (_props$locale = props.locale) != null ? _props$locale : (_props$options3 = props.options) == null ? void 0 : _props$options3.locale,\n    projectId: (_props$projectId = props.projectId) != null ? _props$projectId : (_props$options4 = props.options) == null ? void 0 : _props$options4.projectId,\n    tools: (_props$tools = props.tools) != null ? _props$tools : (_props$options5 = props.options) == null ? void 0 : _props$options5.tools,\n    id: editorId,\n    source: {\n      name: pkg.name,\n      version: pkg.version\n    }\n  });\n  React.useImperativeHandle(ref, function () {\n    return {\n      editor: editor\n    };\n  }, [editor]);\n  React.useEffect(function () {\n    return function () {\n      editor == null ? void 0 : editor.destroy();\n    };\n  }, []);\n  React.useEffect(function () {\n    setHasLoadedEmbedScript(false);\n    loadScript(function () {\n      return setHasLoadedEmbedScript(true);\n    }, scriptUrl);\n  }, [scriptUrl]);\n  React.useEffect(function () {\n    if (!hasLoadedEmbedScript) return;\n    editor == null ? void 0 : editor.destroy();\n    setEditor(unlayer.createEditor(options));\n  }, [JSON.stringify(options), hasLoadedEmbedScript]);\n  var methodProps = Object.keys(props).filter(function (propName) {\n    return /^on/.test(propName);\n  });\n  React.useEffect(function () {\n    if (!editor) return;\n    onLoad == null ? void 0 : onLoad(editor);\n    // All properties starting with on[Name] are registered as event listeners.\n    methodProps.forEach(function (methodProp) {\n      if (/^on/.test(methodProp) && methodProp !== 'onLoad' && methodProp !== 'onReady' && typeof props[methodProp] === 'function') {\n        editor.addEventListener(methodProp, props[methodProp]);\n      }\n    });\n    if (onReady) {\n      editor.addEventListener('editor:ready', function () {\n        onReady(editor);\n      });\n    }\n  }, [editor, Object.keys(methodProps).join(',')]);\n  return React__default.createElement(\"div\", {\n    style: {\n      flex: 1,\n      display: 'flex',\n      minHeight: minHeight\n    }\n  }, React__default.createElement(\"div\", {\n    id: editorId,\n    style: _extends({}, style, {\n      flex: 1\n    })\n  }));\n});\nexports.EmailEditor = EmailEditor;\nexports.default = EmailEditor;","map":{"version":3,"names":["defaultScriptUrl","callbacks","loaded","isScriptInjected","scriptUrl","scripts","document","querySelectorAll","injected","forEach","script","src","includes","addCallback","callback","push","runCallbacks","shift","loadScript","embedScript","createElement","setAttribute","onload","head","appendChild","win","window","__unlayer_lastEditorId","EmailEditor","React__default","forwardRef","props","ref","onLoad","onReady","_props$minHeight","minHeight","_props$style","style","_useState","React","useState","editor","setEditor","_useState2","hasLoadedEmbedScript","setHasLoadedEmbedScript","editorId","useMemo","options","_extends","appearance","_props$appearance","_props$options","displayMode","_props$options2","locale","_props$locale","_props$options3","projectId","_props$projectId","_props$options4","tools","_props$tools","_props$options5","id","source","name","pkg","version","useImperativeHandle","useEffect","destroy","unlayer","createEditor","JSON","stringify","methodProps","Object","keys","filter","propName","test","methodProp","addEventListener","join","flex","display"],"sources":["/home/puspeshdeolal/PROJECTS/UPWORK_NEW/postfix-docker/smtp-dashboard/node_modules/react-email-editor/src/loadScript.ts","/home/puspeshdeolal/PROJECTS/UPWORK_NEW/postfix-docker/smtp-dashboard/node_modules/react-email-editor/src/EmailEditor.tsx"],"sourcesContent":["const defaultScriptUrl = 'https://editor.unlayer.com/embed.js?2';\nconst callbacks: Function[] = [];\nlet loaded = false;\n\nconst isScriptInjected = (scriptUrl: string) => {\n  const scripts = document.querySelectorAll('script');\n  let injected = false;\n\n  scripts.forEach((script) => {\n    if (script.src.includes(scriptUrl)) {\n      injected = true;\n    }\n  });\n\n  return injected;\n};\n\nconst addCallback = (callback: Function) => {\n  callbacks.push(callback);\n};\n\nconst runCallbacks = () => {\n  if (loaded) {\n    let callback;\n\n    while ((callback = callbacks.shift())) {\n      callback();\n    }\n  }\n};\n\nexport const loadScript = (\n  callback: Function,\n  scriptUrl = defaultScriptUrl\n) => {\n  addCallback(callback);\n\n  if (!isScriptInjected(scriptUrl)) {\n    const embedScript = document.createElement('script');\n    embedScript.setAttribute('src', scriptUrl);\n    embedScript.onload = () => {\n      loaded = true;\n      runCallbacks();\n    };\n    document.head.appendChild(embedScript);\n  } else {\n    runCallbacks();\n  }\n};\n","import React, {\n  useEffect,\n  useState,\n  useImperativeHandle,\n  useMemo,\n} from 'react';\n\nimport pkg from '../package.json';\nimport { Editor, EditorRef, EmailEditorProps } from './types';\nimport { loadScript } from './loadScript';\n\nconst win = typeof window === 'undefined' ? { __unlayer_lastEditorId: 0 } : window\nwin.__unlayer_lastEditorId = win.__unlayer_lastEditorId || 0;\n\nexport const EmailEditor = React.forwardRef<EditorRef, EmailEditorProps>(\n  (props, ref) => {\n    const { onLoad, onReady, scriptUrl, minHeight = 500, style = {} } = props;\n\n    const [editor, setEditor] = useState<Editor | null>(null);\n\n    const [hasLoadedEmbedScript, setHasLoadedEmbedScript] = useState(false);\n\n    const editorId = useMemo(\n      () => props.editorId || `editor-${++win.__unlayer_lastEditorId}`,\n      [props.editorId]\n    );\n\n    const options: EmailEditorProps['options'] = {\n      ...(props.options || {}),\n      appearance: props.appearance ?? props.options?.appearance,\n      displayMode: props?.displayMode || props.options?.displayMode || 'email',\n      locale: props.locale ?? props.options?.locale,\n      projectId: props.projectId ?? props.options?.projectId,\n      tools: props.tools ?? props.options?.tools,\n\n      id: editorId,\n      source: {\n        name: pkg.name,\n        version: pkg.version,\n      },\n    };\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        editor,\n      }),\n      [editor]\n    );\n\n    useEffect(() => {\n      return () => {\n        editor?.destroy();\n      };\n    }, []);\n\n    useEffect(() => {\n      setHasLoadedEmbedScript(false);\n      loadScript(() => setHasLoadedEmbedScript(true), scriptUrl);\n    }, [scriptUrl]);\n\n    useEffect(() => {\n      if (!hasLoadedEmbedScript) return;\n      editor?.destroy();\n      setEditor(unlayer.createEditor(options));\n    }, [JSON.stringify(options), hasLoadedEmbedScript]);\n\n    const methodProps = Object.keys(props).filter((propName) =>\n      /^on/.test(propName)\n    );\n    useEffect(() => {\n      if (!editor) return;\n\n      onLoad?.(editor);\n\n      // All properties starting with on[Name] are registered as event listeners.\n      methodProps.forEach((methodProp) => {\n        if (\n          /^on/.test(methodProp) &&\n          methodProp !== 'onLoad' &&\n          methodProp !== 'onReady' &&\n          typeof props[methodProp] === 'function'\n        ) {\n          editor.addEventListener(methodProp, props[methodProp]);\n        }\n      });\n\n      if (onReady) {\n        editor.addEventListener('editor:ready', () => {\n          onReady(editor);\n        });\n      }\n    }, [editor, Object.keys(methodProps).join(',')]);\n\n    return (\n      <div\n        style={{\n          flex: 1,\n          display: 'flex',\n          minHeight: minHeight,\n        }}\n      >\n        <div id={editorId} style={{ ...style, flex: 1 }} />\n      </div>\n    );\n  }\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}