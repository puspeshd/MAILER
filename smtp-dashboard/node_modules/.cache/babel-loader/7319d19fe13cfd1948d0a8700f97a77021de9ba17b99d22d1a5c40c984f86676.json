{"ast":null,"code":"var _jsxFileName = \"/home/puspeshdeolal/PROJECTS/UPWORK_NEW/postfix-docker/smtp-dashboard/src/components/AIModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./AIModal.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AIModal({\n  onClose,\n  onRun,\n  initialPrompt = \"\"\n}) {\n  _s();\n  const [selectedAction, setSelectedAction] = useState(\"\");\n  const [prompt, setPrompt] = useState(initialPrompt);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const presets = {\n    \"Fix grammar\": \"Fix grammar and spelling issues in the following text:\",\n    \"Make formal\": \"Rewrite the following email in a formal tone:\",\n    \"Summarize\": \"Summarize the following email briefly:\",\n    \"Make concise\": \"Rewrite this to be short, clear, and to the point:\"\n  };\n  const handleActionSelect = e => {\n    const value = e.target.value;\n    setSelectedAction(value);\n    setPrompt(presets[value] || \"\");\n  };\n  const runAI = async () => {\n    if (!prompt.trim()) return alert(\"Please enter a prompt first!\");\n    setLoading(true);\n    setResult(\"\");\n    setError(\"\");\n    try {\n      const res = await fetch(\"http://127.0.0.1:5000/generate\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          prompt\n        })\n      });\n      if (!res.ok) throw new Error(\"Network error\");\n      const data = await res.json();\n\n      // Simulate polling or direct result\n      if (data.result) setResult(data.result);else setResult(\"‚úÖ Prompt sent! Check backend for final result.\");\n    } catch (err) {\n      setError(\"‚ùå Failed to get AI response. Try again.\");\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ai-modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-modal-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83E\\uDD16 AI Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          children: \"\\u2716\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Choose Action:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedAction,\n          onChange: handleActionSelect,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Select preset --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), Object.keys(presets).map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: p,\n            children: p\n          }, p, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Edit Prompt:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: prompt,\n          onChange: e => setPrompt(e.target.value),\n          placeholder: \"Write or modify your AI prompt...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ai-loader\",\n          children: \"\\u2699\\uFE0F Running AI... (max 1.5 min)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ai-run-btn\",\n          onClick: runAI,\n          children: \"Run AI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), result && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"AI Result:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            readOnly: true,\n            value: result\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ai-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                navigator.clipboard.writeText(result);\n                alert(\"Copied!\");\n              },\n              children: \"\\uD83D\\uDCCB Copy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setResult(\"\"),\n              children: \"\\uD83D\\uDD01 Try Again\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ai-error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(AIModal, \"9w4lf2Usa1b6s03Dh5UVC2hxtCA=\");\n_c = AIModal;\nvar _c;\n$RefreshReg$(_c, \"AIModal\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","AIModal","onClose","onRun","initialPrompt","_s","selectedAction","setSelectedAction","prompt","setPrompt","loading","setLoading","result","setResult","error","setError","presets","handleActionSelect","e","value","target","runAI","trim","alert","res","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onChange","Object","keys","map","p","placeholder","readOnly","navigator","clipboard","writeText","_c","$RefreshReg$"],"sources":["/home/puspeshdeolal/PROJECTS/UPWORK_NEW/postfix-docker/smtp-dashboard/src/components/AIModal.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./AIModal.css\";\n\nexport default function AIModal({ onClose, onRun, initialPrompt = \"\" }) {\n\n  const [selectedAction, setSelectedAction] = useState(\"\");\n  const [prompt, setPrompt] = useState(initialPrompt);\n\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const presets = {\n    \"Fix grammar\": \"Fix grammar and spelling issues in the following text:\",\n    \"Make formal\": \"Rewrite the following email in a formal tone:\",\n    \"Summarize\": \"Summarize the following email briefly:\",\n    \"Make concise\": \"Rewrite this to be short, clear, and to the point:\",\n  };\n\n  const handleActionSelect = (e) => {\n    const value = e.target.value;\n    setSelectedAction(value);\n    setPrompt(presets[value] || \"\");\n  };\n\n  const runAI = async () => {\n    if (!prompt.trim()) return alert(\"Please enter a prompt first!\");\n    setLoading(true);\n    setResult(\"\");\n    setError(\"\");\n\n    try {\n      const res = await fetch(\"http://127.0.0.1:5000/generate\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ prompt }),\n      });\n\n      if (!res.ok) throw new Error(\"Network error\");\n      const data = await res.json();\n\n      // Simulate polling or direct result\n      if (data.result) setResult(data.result);\n      else setResult(\"‚úÖ Prompt sent! Check backend for final result.\");\n\n    } catch (err) {\n      setError(\"‚ùå Failed to get AI response. Try again.\");\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"ai-modal-overlay\">\n      <div className=\"ai-modal-box\">\n        <div className=\"ai-modal-header\">\n          <h2>ü§ñ AI Assistant</h2>\n          <button onClick={onClose}>‚úñ</button>\n        </div>\n\n        <div className=\"ai-modal-body\">\n          <label>Choose Action:</label>\n          <select value={selectedAction} onChange={handleActionSelect}>\n            <option value=\"\">-- Select preset --</option>\n            {Object.keys(presets).map((p) => (\n              <option key={p} value={p}>{p}</option>\n            ))}\n          </select>\n\n          <label>Edit Prompt:</label>\n          <textarea\n            value={prompt}\n            onChange={(e) => setPrompt(e.target.value)}\n            placeholder=\"Write or modify your AI prompt...\"\n          />\n\n          {loading ? (\n            <div className=\"ai-loader\">‚öôÔ∏è Running AI... (max 1.5 min)</div>\n          ) : (\n            <button className=\"ai-run-btn\" onClick={runAI}>\n              Run AI\n            </button>\n          )}\n\n          {result && (\n            <>\n              <label>AI Result:</label>\n              <textarea readOnly value={result}></textarea>\n              <div className=\"ai-actions\">\n                <button\n                  onClick={() => {\n                    navigator.clipboard.writeText(result);\n                    alert(\"Copied!\");\n                  }}\n                >\n                  üìã Copy\n                </button>\n                <button onClick={() => setResult(\"\")}>üîÅ Try Again</button>\n              </div>\n            </>\n          )}\n\n          {error && <p className=\"ai-error\">{error}</p>}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}